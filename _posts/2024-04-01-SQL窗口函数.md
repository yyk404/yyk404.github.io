---
layout: post
title: SQLçª—å£å‡½æ•°
tags: [SQL,Markdown]
categories: Demo
---

çª—å£å‡½æ•°ï¼ˆOLAP,è”æœºåˆ†æå¤„ç†ï¼‰å‡½æ•°ï¼Œå¯ä»¥å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œå¤æ‚åˆ†æã€‚ğŸ‘Œ



# SQLçª—å£å‡½æ•°

ä¸“ç”¨çª—å£å‡½æ•°ï¼šrank(), dense_rank(), row_number()

æ±‡æ€»å‡½æ•°ï¼šsum(), avg(), count(), max(), min()

ä¸€èˆ¬ç”¨æ³•ï¼š

```sql
<çª—å£å‡½æ•°> over (partition by <åˆ†ç»„>  order by <æ’åº> )
```



## çª—å£å‡½æ•°å¸¸è§é—®é¢˜

- æ’åé—®é¢˜

```sql
select *, row_number() over( partition by <åˆ†ç»„>  
                            order by <æ’åº>
) as a
```

å¦‚æœä¸åˆ†ç»„ï¼Œåªéœ€è¦å¯¹æ•´ä¸ªè¡¨çš„æŸä¸€åˆ—è¿›è¡Œæ’åï¼Œå¯ä»¥çœç•¥partition byè¿™éƒ¨åˆ†ã€‚

- Top N

```sql
select *, 
from
    (select *, row_number() over( partition by <åˆ†ç»„>  
                                order by <æ’åº> ) as a
	from biao 
)as b
where a <= N
```

