---
layout: post
title: SQL窗口函数
tags: [SQL,Markdown]
categories: Demo
---

窗口函数（OLAP,联机分析处理）函数，可以对数据库中的数据进行复杂分析



# SQL窗口函数

窗口函数（OLAP,联机分析处理）函数，可以对数据库中的数据进行复杂分析

一般用法：

```sql
<窗口函数> over (partition by <分组>  order by <排序> )
```



## 窗口函数常见问题

- 排名问题

```sql
select *, row_number() over( partition by <分组>  
                            order by <排序>
) as a
```

如果不分组，只需要对整个表的某一列进行排名，可以省略partition by这部分。

- Top N

```sql
select *, 
from
    (select *, row_number() over( partition by <分组>  
                                order by <排序> ) as a
	from biao 
)as b
where a <= N
```

